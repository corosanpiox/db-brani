<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabella Interattiva con Bootstrap e jQuery</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Inserisci Dati e Visualizza Nella Tabella</h1>
        
        <!-- Modulo di Inserimento Dati -->
        <form id="dataForm" class="mb-4">
            <div class="row mb-3">
                <div class="col">
                    <label for="momentomessa" class="form-label">Momento Messa</label>
                    <input type="text" class="form-control" id="momentomessa" name="momentomessa" required>
                </div>
                <div class="col">
                    <label for="keyword" class="form-label">Keyword</label>
                    <input type="text" class="form-control" id="keyword" name="keyword" required>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col">
                    <label for="momentoandkeyword" class="form-label">Momento + Keyword</label>
                    <input type="text" class="form-control" id="momentoandkeyword" name="momentoandkeyword" required>
                </div>
                <div class="col">
                    <label for="messespeciali" class="form-label">Messe Speciali</label>
                    <input type="text" class="form-control" id="messespeciali" name="messespeciali" required>
                </div>
            </div>
            <div class="mb-3">
                <label for="branifacili" class="form-label">Brani Facili</label>
                <input type="text" class="form-control" id="branifacili" name="branifacili" required>
            </div>
            <button type="submit" class="btn btn-primary">Invia Dati</button>
        </form>

        <!-- Tabella Interattiva -->
        <h2 class="text-center">Dati Inseriti</h2>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Momento Messa</th>
                    <th>Keyword</th>
                    <th>Momento + Keyword</th>
                    <th>Messe Speciali</th>
                    <th>Brani Facili</th>
                </tr>
            </thead>
            <tbody id="dataTableBody">
                <!-- I dati verranno aggiunti qui dinamicamente -->
            </tbody>
        </table>
    </div>

    <script>
        $(document).ready(function() {
            $('#dataForm').submit(function(event) {
                event.preventDefault();  // Previene il comportamento di invio standard

                // Ottieni i dati dal modulo
                var momentomessa = $('#momentomessa').val();
                var keyword = $('#keyword').val();
                var momentoandkeyword = $('#momentoandkeyword').val();
                var messespeciali = $('#messespeciali').val();
                var branifacili = $('#branifacili').val();

                // Costruisci la riga della tabella con i dati inseriti
                var newRow = `
                    <tr>
                        <td>${momentomessa}</td>
                        <td>${keyword}</td>
                        <td>${momentoandkeyword}</td>
                        <td>${messespeciali}</td>
                        <td>${branifacili}</td>
                    </tr>
                `;

                // Aggiungi la nuova riga alla tabella
                $('#dataTableBody').append(newRow);

                // Resetta il modulo dopo l'invio
                $('#dataForm')[0].reset();

                // Se desideri inviare anche i dati a Google Sheets, puoi usare una fetch API come prima
                // Ricorda di aggiungere qui il tuo script di Google Apps per inviare i dati al foglio
                /*
                const url = 'https://script.google.com/macros/s/TUO-SCRIPT-ID/exec';  // Inserisci l'URL del tuo Google Apps Script qui
                fetch(url, {
                    method: 'POST',
                    body: new URLSearchParams({
                        momentomessa: momentomessa,
                        keyword: keyword,
                        momentoandkeyword: momentoandkeyword,
                        messespeciali: messespeciali,
                        branifacili: branifacili
                    }),
                    mode: 'no-cors'
                });
                */
            });
        });
    </script>
</body>
</html>
